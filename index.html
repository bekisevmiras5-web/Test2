<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>English Trainer Advanced</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { margin:0; min-height:100vh; display:flex; justify-content:center; align-items:center; background: linear-gradient(135deg,#1e3c72,#2a5298); font-family:Arial, sans-serif; }
.card { background:#fff; width:100%; max-width:500px; padding:24px; border-radius:16px; box-shadow:0 10px 25px rgba(0,0,0,0.3); text-align:center; }
h1{margin-top:0;}
.stats{font-size:14px; margin-bottom:10px;}
select,input,button{margin:5px; padding:6px 10px; border-radius:6px; font-size:14px;}
.word{font-size:24px;font-weight:bold;margin:15px 0;}
.options{display:grid; grid-template-columns:1fr 1fr; gap:10px;}
.correct{background:#4caf50;color:#fff;}
.wrong{background:#e53935;color:#fff;}
</style>
</head>
<body>
<div class="card">
<h1>English Trainer</h1>
<div class="stats">‚ù§Ô∏è <span id="lives">3</span> | ‚≠ê <span id="score">0</span> | üî• <span id="streak">0</span></div>
<select id="level" onchange="changeLevel()">
<option value="easy">–õ—ë–≥–∫–∏–π</option>
<option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
<option value="hard">–°–ª–æ–∂–Ω—ã–π</option>
</select>
<select id="mode" onchange="changeMode()">
<option value="options">–í—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç</option>
<option value="write">–ù–∞–ø–∏—Å–∞—Ç—å —Å–∞–º</option>
</select>
<select id="direction" onchange="changeDirection()">
<option value="ru-en">RU ‚Üí EN</option>
<option value="en-ru">EN ‚Üí RU</option>
</select>
<div class="word" id="prompt">‚Äî</div>
<div class="options" id="optionsContainer"></div>
<input type="text" id="writeInput" style="display:none;" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥">
<button id="submitBtn" style="display:none;" onclick="checkWrite()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
<canvas id="progressChart" width="400" height="150"></canvas>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const words=[
  // EASY (50 —Å–ª–æ–≤)
  {ru:"–∫–æ—Ç",en:"cat",lvl:"easy",type:"word"},{ru:"—Å–æ–±–∞–∫–∞",en:"dog",lvl:"easy",type:"word"},{ru:"–¥–æ–º",en:"house",lvl:"easy",type:"word"},{ru:"–∫–Ω–∏–≥–∞",en:"book",lvl:"easy",type:"word"},{ru:"—è–±–ª–æ–∫–æ",en:"apple",lvl:"easy",type:"word"},
  {ru:"—à–∫–æ–ª–∞",en:"school",lvl:"easy",type:"word"},{ru:"–º–∞—à–∏–Ω–∞",en:"car",lvl:"easy",type:"word"},{ru:"–¥—Ä—É–≥",en:"friend",lvl:"easy",type:"word"},{ru:"–º–∞–º–∞",en:"mother",lvl:"easy",type:"word"},{ru:"–ø–∞–ø–∞",en:"father",lvl:"easy",type:"word"},
  {ru:"–≤–æ–¥–∞",en:"water",lvl:"easy",type:"word"},{ru:"–µ–¥–∞",en:"food",lvl:"easy",type:"word"},{ru:"–¥–µ–Ω—å",en:"day",lvl:"easy",type:"word"},{ru:"–Ω–æ—á—å",en:"night",lvl:"easy",type:"word"},{ru:"—Å–æ–ª–Ω—Ü–µ",en:"sun",lvl:"easy",type:"word"},
  {ru:"–ª—É–Ω–∞",en:"moon",lvl:"easy",type:"word"},{ru:"—Ä—É–∫–∞",en:"hand",lvl:"easy",type:"word"},{ru:"–Ω–æ–≥–∞",en:"leg",lvl:"easy",type:"word"},{ru:"–≥–æ—Ä–æ–¥",en:"city",lvl:"easy",type:"word"},{ru:"—É–ª–∏—Ü–∞",en:"street",lvl:"easy",type:"word"},
  {ru:"—Å—Ç–æ–ª",en:"table",lvl:"easy",type:"word"},{ru:"—Å—Ç—É–ª",en:"chair",lvl:"easy",type:"word"},{ru:"–æ–∫–Ω–æ",en:"window",lvl:"easy",type:"word"},{ru:"–¥–≤–µ—Ä—å",en:"door",lvl:"easy",type:"word"},{ru:"–¥–µ—Ä–µ–≤–æ",en:"tree",lvl:"easy",type:"word"},
  {ru:"—Ü–≤–µ—Ç–æ–∫",en:"flower",lvl:"easy",type:"word"},{ru:"–∑–∏–º–∞",en:"winter",lvl:"easy",type:"word"},{ru:"–≤–µ—Å–Ω–∞",en:"spring",lvl:"easy",type:"word"},{ru:"–ª–µ—Ç–æ",en:"summer",lvl:"easy",type:"word"},{ru:"–æ—Å–µ–Ω—å",en:"autumn",lvl:"easy",type:"word"},
  {ru:"–º–æ–ª–æ–∫–æ",en:"milk",lvl:"easy",type:"word"},{ru:"—á–∞–π",en:"tea",lvl:"easy",type:"word"},{ru:"–∫–æ—Ñ–µ",en:"coffee",lvl:"easy",type:"word"},{ru:"—Å–æ–ª—å",en:"salt",lvl:"easy",type:"word"},{ru:"—Å–∞—Ö–∞—Ä",en:"sugar",lvl:"easy",type:"word"},
  {ru:"—è–±–ª–æ–∫–æ",en:"apple",lvl:"easy",type:"word"},{ru:"–±–∞–Ω–∞–Ω",en:"banana",lvl:"easy",type:"word"},{ru:"–∞–ø–µ–ª—å—Å–∏–Ω",en:"orange",lvl:"easy",type:"word"},{ru:"–≥—Ä—É—à–∞",en:"pear",lvl:"easy",type:"word"},{ru:"–≤–∏–Ω–æ–≥—Ä–∞–¥",en:"grape",lvl:"easy",type:"word"},
  {ru:"–∫–æ—à–∫–∞",en:"kitty",lvl:"easy",type:"word"},{ru:"—â–µ–Ω–æ–∫",en:"puppy",lvl:"easy",type:"word"},{ru:"–º—è—á",en:"ball",lvl:"easy",type:"word"},{ru:"–∏–≥—Ä—É—à–∫–∞",en:"toy",lvl:"easy",type:"word"},{ru:"–∫—Ä–æ–≤–∞—Ç—å",en:"bed",lvl:"easy",type:"word"},

  // MEDIUM (50 —Å–ª–æ–≤ + —Ñ—Ä–∞–∑)
  {ru:"—É—á–∏—Ç–µ–ª—å",en:"teacher",lvl:"medium",type:"word"},{ru:"—É—á–µ–Ω–∏–∫",en:"student",lvl:"medium",type:"word"},{ru:"—Å—Ç—Ä–∞–Ω–∞",en:"country",lvl:"medium",type:"word"},{ru:"–≤—Ä–µ–º—è",en:"time",lvl:"medium",type:"word"},{ru:"—Å–µ–º—å—è",en:"family",lvl:"medium",type:"word"},
  {ru:"–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ",en:"travel",lvl:"medium",type:"word"},{ru:"–¥–µ–Ω—å–≥–∏",en:"money",lvl:"medium",type:"word"},{ru:"–∑–¥–æ—Ä–æ–≤—å–µ",en:"health",lvl:"medium",type:"word"},{ru:"–≤–æ–ø—Ä–æ—Å",en:"question",lvl:"medium",type:"word"},{ru:"–æ—Ç–≤–µ—Ç",en:"answer",lvl:"medium",type:"word"},
  {ru:"–Ø –ª—é–±–ª—é —á–∏—Ç–∞—Ç—å –∫–Ω–∏–≥–∏",en:"I love reading books",lvl:"medium",type:"phrase"},{ru:"–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?",en:"What is your name?",lvl:"medium",type:"phrase"},{ru:"–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —à–∫–æ–ª–∞?",en:"Where is the school?",lvl:"medium",type:"phrase"},{ru:"–°–µ–≥–æ–¥–Ω—è —Ö–æ—Ä–æ—à–∞—è –ø–æ–≥–æ–¥–∞",en:"Today is good weather",lvl:"medium",type:"phrase"},{ru:"–Ø –∏–≥—Ä–∞—é –≤ —Ñ—É—Ç–±–æ–ª –∫–∞–∂–¥—ã–π –¥–µ–Ω—å",en:"I play football every day",lvl:"medium",type:"phrase"},

  // HARD (50 —Å–ª–æ–≤ + —Ñ—Ä–∞–∑)
  {ru:"–∫—Ä–∞—Å–∏–≤—ã–π",en:"beautiful",lvl:"hard",type:"word"},{ru:"–±—ã—Å—Ç—Ä—ã–π",en:"fast",lvl:"hard",type:"word"},{ru:"—Å–∏–ª—å–Ω—ã–π",en:"strong",lvl:"hard",type:"word"},{ru:"—Å–ª–∞–±—ã–π",en:"weak",lvl:"hard",type:"word"},{ru:"–≤—á–µ—Ä–∞",en:"yesterday",lvl:"hard",type:"word"},
  {ru:"–∑–∞–≤—Ç—Ä–∞",en:"tomorrow",lvl:"hard",type:"word"},{ru:"—Å–µ–≥–æ–¥–Ω—è",en:"today",lvl:"hard",type:"word"},{ru:"–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å",en:"responsibility",lvl:"hard",type:"word"},{ru:"–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ",en:"education",lvl:"hard",type:"word"},{ru:"—Ä–∞–∑–≤–∏—Ç–∏–µ",en:"development",lvl:"hard",type:"word"},
  {ru:"–û–Ω –∏–¥—ë—Ç –≤ —à–∫–æ–ª—É –∫–∞–∂–¥—ã–π –¥–µ–Ω—å",en:"He goes to school every day",lvl:"hard",type:"phrase"},{ru:"–Ø —Ö–æ—á—É —Å—Ç–∞—Ç—å –∏–Ω–∂–µ–Ω–µ—Ä–æ–º",en:"I want to become an engineer",lvl:"hard",type:"phrase"},{ru:"–û–Ω–∞ —á–∏—Ç–∞–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –∫–Ω–∏–≥—É",en:"She is reading an interesting book",lvl:"hard",type:"phrase"},{ru:"–ú—ã –±—É–¥–µ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å –ª–µ—Ç–æ–º",en:"We will travel in summer",lvl:"hard",type:"phrase"},{ru:"–Ø –∏–∑—É—á–∞—é –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å",en:"I study English every day",lvl:"hard",type:"phrase"}
];

let lives=3,score=0,streak=0,currentWord=null,level='easy',mode='options',direction='ru-en',correctCount=0,wrongCount=0;
const ctx=document.getElementById('progressChart').getContext('2d');
const progressChart=new Chart(ctx,{type:'line',data:{labels:[],datasets:[{label:'–û—á–∫–∏',data:[],borderColor:'blue',fill:false}]} ,options:{responsive:true,scales:{y:{beginAtZero:true}}}});

function shuffle(arr){return arr.sort(()=>Math.random()-0.5);}
function changeLevel(){level=document.getElementById('level').value;resetGame();}
function changeMode(){mode=document.getElementById('mode').value;updateUI();}
function changeDirection(){direction=document.getElementById('direction').value;newQuestion();}
function resetGame(){lives=3;score=0;streak=0;correctCount=0;wrongCount=0;updateStats();newQuestion();}
function updateStats(){document.getElementById('lives').textContent=lives;document.getElementById('score').textContent=score;document.getElementById('streak').textContent=streak;updateChart();}
function updateUI(){if(mode==='write'){document.getElementById('optionsContainer').style.display='none';document.getElementById('writeInput').style.display='inline';document.getElementById('submitBtn').style.display='inline';}else{document.getElementById('optionsContainer').style.display='grid';document.getElementById('writeInput').style.display='none';document.getElementById('submitBtn').style.display='none';}}
function newQuestion(){const filtered=words.filter(w=>w.lvl===level);currentWord=filtered[Math.floor(Math.random()*filtered.length)];
let promptText=(direction==='ru-en')?currentWord.ru:currentWord.en;document.getElementById('prompt').textContent=promptText;
if(mode==='options'){let options=[(direction==='ru-en')?currentWord.en:currentWord.ru];const allOthers=words.map(w=>direction==='ru-en'?w.en:w.ru).filter(v=>v!==options[0]);shuffle(allOthers);options.push(...allOthers.slice(0,3));options=shuffle(options);
const div=document.getElementById('optionsContainer');div.innerHTML='';options.forEach(opt=>{const btn=document.createElement('button');btn.textContent=opt;btn.onclick=()=>checkOption(btn,opt);div.appendChild(btn);});}}
function checkOption(btn,answer){const correct=(direction==='ru-en')?currentWord.en===answer:currentWord.ru===answer;btn.classList.add(correct?'correct':'wrong');if(correct){score+=10;streak++;if(streak%3===0)score+=5;correctCount++;}else{lives--;streak=0;wrongCount++;if(lives<=0){alert('–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –û—á–∫–∏: '+score);resetGame();return;}}updateStats();setTimeout(newQuestion,700);}
function checkWrite(){const val=document.getElementById('writeInput').value.trim();const correct=(direction==='ru-en')?currentWord.en.toLowerCase()===val.toLowerCase():currentWord.ru.toLowerCase()===val.toLowerCase();
if(correct){score+=10;streak++;if(streak%3===0)score+=5;correctCount++;alert('–ü—Ä–∞–≤–∏–ª—å–Ω–æ!');}else{lives--;streak=0;wrongCount++;alert('–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!');if(lives<=0){alert('–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –û—á–∫–∏: '+score);resetGame();return;}}document.getElementById('writeInput').value='';updateStats();newQuestion();}
function updateChart(){progressChart.data.labels.push(new Date().toLocaleTimeString());progressChart.data.datasets[0].data.push(score);progressChart.update();}
updateUI();newQuestion();
</script>
</body>
</html>
